doctype html
head
  link(rel='stylesheet' href='../stylesheets/chatbox.css')
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1')
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet')
  script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js')
  link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css')
  script(type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.0/socket.io.min.js')
nav.navbar.navbar-expand-sm.bg-outline-sucess.sticky-top.navbar-success.justify-content-between
  .navmenu.container-fluid
    a.navbar-brand(href='http://dungnguyenblue.com:3000/') AskTA
    #mynavbar.collapse.navbar-collapse
      ul.navul.navbar-nav.me-auto
        li.nav-item
          a.nav-link(href='javascript:void(0)') Ask
        li.nav-item
          a.nav-link(href='javascript:void(0)') Profile
        li.nav-item
          a.nav-link(href='javascript:void(0)') Link
    //
      <div class="nav-searchbar">
      <form class="form-inline">
      <div class="input-group">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </div>
      </form>
      </div>
    .d-flex.menu-user
      form(action='/logout' method='get')
        input.btn.btn-outline-success(type='submit' value='Sign Out' data-bs-toggle='modal' data-bs-target='#signout')
.body-content.d-flex
  .row.g-0
    // d-none
    #courseList.collapse.col-md-2
      .room-list-header
        h4 Your Courses
      #roomList.room-list.list-group.list-group-flush(role='tablist')
        a#CSE1325.list-group-item.list-group-item-action(data-toggle='list' href='#list-room1' role='tab' aria-controls='Room1') Object Oriented Programming
        a#CSE3318.list-group-item.list-group-item-action(data-toggle='list' href='#list-room2' role='tab' aria-controls='Room2') Algorithms &amp; Data Structres
        a#CSE2315.list-group-item.list-group-item-action(data-toggle='list' href='#list-room3' role='tab' aria-controls='Room3') Discrete Structures
        a#CSE3330.list-group-item.list-group-item-action(data-toggle='list' href='#list-room4' role='tab' aria-controls='Room4') Databases
    .inbox-content.col-md-8
      #nav-tabContent.tab-content
        #list-room1.tab-pane.fade.show.active(aria-labelledby='room1')
          .r.msg-header.align-items-center
            .inbox-btn.d-flex
              a(data-bs-toggle='collapse' href='#courseList')
                i.bi.bi-caret-left.p-2
            .msg-header-img
              img.rounded-circle(src='../images/oop.jpg')
            .status
              h4#course-room-title Object Oriented Programming
              h6.badge.rounded-pill.bg-success active
            .msg-header-icon.d-flex.flex-row-reverse
              i.bi.bi-telephone.p-3
              i.bi.bi-camera-video.p-3
              i.bi.bi-info-circle.p-3
          .r.chat-page.overflow-auto
            .msg-inbox
              #msg-oop.msg-page
                //
                  <div class="sent-chats" id="sent-chat">
                  <div class="sent-chats-img">
                  <img class="rounded-circle" src="../images/anime.jpg">
                  </div>
                  <div class="sent-msg">
                  <div class="sent-msg-inbox">
                  <div class="sent-name">Dung</div>
                  <p>whats good?</p>
                  </div>
                  </div>
                  </div>
                  <br>
                  <br>
                  <div class="received-chats" id="received-chat">
                  <div class="received-msg">
                  <div class="received-chats-img">
                  <img class="rounded-circle" src="../images/anime.jpg">
                  </div>
                  <div class="received-msg-inbox">
                  <div class="received-name">Thomp</div>
                  <p>whats good?</p>
                  </div>
                  </div>
                  </div>
          .r.msg-footer
            form
              .form.row.align-items-center.g-0
                .input-group
                  input#input-chat-1.form-control(type='text' placeholder='Text...')
                  button#btn-send-1.btn.btn-success(type='button' onclick='sendMessage();') Send
        #list-room2.tab-pane.fade(aria-labelledby='room2')
          .r.msg-header.align-items-center
            .inbox-btn.d-flex
              a(data-bs-toggle='collapse' href='#courseList')
                i.bi.bi-caret-left.p-2
            .msg-header-img
              img.rounded-circle(src='../images/algo.jpg')
            .status
              h4#course-room-title Algorithms &amp; Data Structres
              h6.badge.rounded-pill.bg-success active
            .msg-header-icon.d-flex.flex-row-reverse
              i.bi.bi-telephone.p-3
              i.bi.bi-camera-video.p-3
              i.bi.bi-info-circle.p-3
          .r.chat-page.overflow-auto
            .msg-inbox
              #msg-algo.msg-page
          .r.msg-footer
            form
              .form.row.align-items-center.g-0
                .input-group
                  input#input-chat-2.form-control(type='text' placeholder='Text...')
                  button#btn-send-2.btn.btn-success(type='button' onclick='sendMessage();') Send
        #list-room3.tab-pane.fade(aria-labelledby='room3')
          .r.msg-header.align-items-center
            .inbox-btn.d-flex
              a(data-bs-toggle='collapse' href='#courseList')
                i.bi.bi-caret-left.p-2
            .msg-header-img
              img.rounded-circle(src='../images/ds.jpg')
            .status
              h4#course-room-title Discrete Structures
              h6.badge.rounded-pill.bg-success active
            .msg-header-icon.d-flex.flex-row-reverse
              i.bi.bi-telephone.p-3
              i.bi.bi-camera-video.p-3
              i.bi.bi-info-circle.p-3
          .r.chat-page.overflow-auto
            .msg-inbox
              #msg-ds.msg-page
          .r.msg-footer
            form
              .form.row.align-items-center.g-0
                .input-group
                  input#input-chat-3.form-control(type='text' placeholder='Text...' )
                  button#btn-send-3.btn.btn-success(type='button' onclick='sendMessage();') Send
        #list-room4.tab-pane.fade(aria-labelledby='room4')
          .r.msg-header.align-items-center
            .inbox-btn.d-flex
              a(data-bs-toggle='collapse' href='#courseList')
                i.bi.bi-caret-left.p-2
            .msg-header-img
              img.rounded-circle(src='../images/db.jpg')
            .status
              h4#course-room-title Databases
              h6.badge.rounded-pill.bg-success active
            .msg-header-icon.d-flex.flex-row-reverse
              i.bi.bi-telephone.p-3
              i.bi.bi-camera-video.p-3
              i.bi.bi-info-circle.p-3
          .r.chat-page.overflow-auto
            .msg-inbox
              #msg-db.msg-page
          .r.msg-footer
            form
              .form.row.align-items-center.g-0
                .input-group
                  input#input-chat-4.form-control(type='text' placeholder='Text...' )
                  button#btn-send-4.btn.btn-success(type='button' onclick='sendMessage();') Send
    script(type='text/javascript' src='/javascripts/tabsFunction.js')
    script.
      var triggerTabList = [].slice.call(document.querySelectorAll('#roomList a'))
      triggerTabList.forEach(function (triggerEl) {
        var tabTrigger = new bootstrap.Tab(triggerEl)
        //console.log('this is the tab '+triggerEl.id);
        triggerEl.addEventListener('click', function (event) {
        event.preventDefault();
        tabTrigger.show();
        //document.getElementById("course-room-title").innerHTML = document.getElementById(triggerEl.id).innerHTML;
        enterRoom(triggerEl.id);
        })
      });
       document.getElementById("input-chat-1")
                    .addEventListener("keyup", function(event) {
                    event.preventDefault();
                    if (event.keyCode === 13) {
                      alert("Button code executed.");
                      document.getElementById("btn-send-1").click();
                    }
                });

      //var scroll = document.getElementById('chat-page');
      //scroll.scrollTop = element.scrollHeight;
      /*script.
        document.getElementById("input-chat-4")
                    .addEventListener("keyup", function(event) {
                    event.preventDefault();
                    if (event.keyCode === 13) {
                        document.getElementById("btn-send").click();
                    }
                });*/
    .col-md-2.d-none.d-md-block
      div
        a user info
  #login.container.mt-3.modal
    .modal-dialog
      .modal-content
        .modal-header
          h4.modal-title Login
          button.btn-close(type='button' data-bs-dismiss='modal')
        .modal-body
          form(action='/profile' method='post')
            .mb-3.mt-3
              label(for='email') Email:
              input#email.form-control(type='email' placeholder='Enter email' name='email')
            .mb-3
              label(for='pwd') Password:
              input#pwd.form-control(type='password' placeholder='Enter password' name='pswd')
            .form-check.mb-3
              label.form-check-label
                input.form-check-input(type='checkbox' name='remember')
                |  Remember me
            button#submit-login.btn.btn-success(type='submit') Submit
            button.btn.btn-danger(type='button' data-bs-dismiss='modal') Cancel
  #signUp.container.mt-3.modal
    .modal-dialog
      .modal-content
        .modal-header
          h4.modal-title Sign Up
          button.btn-close(type='button' data-bs-dismiss='modal')
        .modal-body
          form(action='/home' method='post')
            label(for='name') Enter Name:
            .input-group.mb-3
              input#firstname.form-control(type='text' placeholder='First Name' name='firstname')
              input#lastname.form-control(type='text' placeholder='Last Name' name='lastname')
            .mb-3.mt-3
              label(for='email') Email:
              input#email.form-control(type='email' placeholder='Enter Email' name='username')
            .mb-3
              label(for='pwd') Password:
              input#pwd.form-control(type='password' placeholder='Enter Password' name='pswd')
            button#submit-signup.btn.btn-success(type='submit') Submit
            button.btn.btn-danger(type='button' data-bs-dismiss='modal') Cancel
footer
  script(type='text/javascript' src='/javascripts/chatbox-client.js')
